{"version":3,"sources":["scripts/main.js"],"names":["theadRow","document","querySelector","bodyTable","toggle","addEventListener","e","headerIndex","target","cellIndex","rows","querySelectorAll","copyRows","map","row","cloneNode","sort","a","b","value1","innerText","value2","startsWith","replace","localeCompare","reverse","forEach","elem","i","innerHTML","activeRow","classList","closest","form","createElement","add","body","append","inputs","input","preventDefault","pushNotification","data","FormData","dataValues","Object","fromEntries","entries","nf","Intl","NumberFormat","salary","format","name","length","position","age","tr","office","title","description","type","div","className","dataset","qa","setTimeout","removeChild","item","initValue","saveData","val","value","Number","isFinite","doKeyPress","ev","key","removeEventListener","appendChild","focus"],"mappings":"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","file":"main.ffe5f9cc.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n/*  eslint-disable */\nconst theadRow = document.querySelector('thead tr');\nconst bodyTable = document.querySelector('tbody');\nlet toggle = true;\n\ntheadRow.addEventListener('click', (e) => {\n  const headerIndex = e.target.cellIndex;\n  const rows = document\n    .querySelectorAll(`tbody tr`);\n  let copyRows = [...rows].map(row => {\n    return row.cloneNode(true);\n  });\n\n  copyRows.sort((a, b) => {\n    let value1 = a.querySelector(`td:nth-child(${headerIndex + 1}`).innerText;\n    let value2 = b.querySelector(`td:nth-child(${headerIndex + 1}`).innerText;\n\n    if (value1.startsWith('$') || value2.startsWith('$')) {\n      value1 = value1.replace(/[^0-9]/g, '');\n      value2 = value2.replace(/[^0-9]/g, '');\n\n      return value1 - value2;\n    }\n\n    return value1.localeCompare(value2);\n  });\n\n  if (!toggle) {\n    copyRows = copyRows.reverse();\n  }\n  toggle = !toggle;\n\n  rows.forEach((elem, i) => {\n    elem.innerHTML = copyRows[i].innerHTML;\n  });\n});\n\nbodyTable.addEventListener('click', (e) => {\n  const activeRow = document.querySelector('.active');\n\n  if (activeRow) {\n    activeRow.classList.toggle('active');\n  }\n\n  const row = e.target.closest('tr');\n\n  row.classList.toggle('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n  <label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required></label>\n  <label>Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n  </label>\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\" required>\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" required></label>\n  <label>Salary:\n    <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n  </label>\n  <button type=\"Submit\">Save to table</button>\n`;\ndocument.body.append(form);\n\nconst inputs = document.querySelectorAll('input');\ninputs.forEach(input => {\n  input.addEventListener('invalid', (e) => {\n    e.preventDefault();\n    pushNotification('Error',\n    'Some inputs are incorrect', 'error');\n  });\n});\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n  const data = new FormData(form);\n  const dataValues = Object.fromEntries(data.entries());\n\n  const nf = new Intl.NumberFormat('en-US');\n\n  dataValues.salary = '$' + nf.format(dataValues.salary);\n\n  if (dataValues.name.length < 4\n    || dataValues.position.length < 4\n    || dataValues.age < 18\n    || dataValues.age > 90) {\n    pushNotification('Error',\n    'Some inputs are incorrect', 'error');\n\n  return;\n}\n\n  pushNotification('Success',\n    'Data added to the table', 'success');\n\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${dataValues.name}</td>\n    <td>${dataValues.position}</td>\n    <td>${dataValues.office}</td>\n    <td>${dataValues.age}</td>\n    <td>${dataValues.salary}</td>\n  `;\n  bodyTable.append(tr);\n});\n\nconst pushNotification = (title, description, type) => {\n  const div = document.createElement('div');\n\n  div.className = `notification ${type}`;\n  div.dataset.qa = 'notification';\n\n  div.innerHTML = `\n    <h2 class='title'>${title}</h2>\n    <p>${description}</p>\n  `;\n  document.body.append(div);\n\n  setTimeout(() => {\n    document.body.removeChild(div);\n  }, 2000);\n};\n\nbodyTable.addEventListener('dblclick', (e) => {\n  const item = e.target;\n  const cellIndex = item.cellIndex;\n  const initValue = item.innerText;\n  const input = document.createElement('input');\n\n  input.value = initValue;\n  input.classList.add('cell-input');\n\n  input.addEventListener('blur', saveData);\n  input.addEventListener('keypress', doKeyPress);\n\n  function doKeyPress(ev) {\n    if (ev.key === 'Enter') {\n      input.removeEventListener('blur', saveData);\n      saveData();\n    }\n  }\n\n  item.innerHTML = '';\n  item.appendChild(input);\n  input.focus();\n\n  function saveData() {\n    let val = input.value;\n\n    if ((cellIndex === 0 || cellIndex === 1 || cellIndex === 2)\n        && val.length < 4) {\n      pushNotification('Error',\n        'Name length should be more than 4 symbols', 'error');\n      item.innerHTML = initValue;\n\n      return;\n    }\n\n    if (cellIndex === 3) {\n      val = +val;\n\n      if (!Number.isFinite(val) || val < 18 || val > 90) {\n        pushNotification('Error',\n          'Age should be number and more 18 and less 90', 'error');\n        item.innerHTML = initValue;\n\n        return;\n      }\n    }\n\n    if (cellIndex === 4) {\n      val = +val;\n\n      if (!Number.isFinite(val)) {\n        pushNotification('Error',\n          'Salary should be a number', 'error');\n        item.innerHTML = initValue;\n\n        return;\n      }\n\n      const nf = new Intl.NumberFormat('en-US');\n\n      val = '$' + nf.format(val);\n    }\n\n    if (!input.value.length) {\n      item.innerHTML = initValue;\n\n      return;\n    };\n\n    pushNotification('Success',\n      'Data added to the table', 'success');\n\n    item.innerHTML = val;\n  }\n});\n"]}